@model IA_Ecom.ViewModels.AdminDashboardViewModel
@{
    ViewData["Title"] = "Admin Dashboard";
Layout = "~/Views/Admin/_AdminLayout.cshtml";
}

<div class="container">
    <h1>Welcome to Admin Dashboard</h1>
    <div class="card">
        <div class="card-header">
            Basic Visual Representation for Counts
        </div>
    <div class="container">
        <canvas id="dashboardChart"></canvas>
    </div>
    </div>
    <!-- User Management Section -->
    <div class="card">
        <div class="card-header">
            User Management
        </div>
        <div class="card-body">
            <span class="title-info">Count: @Model.UsersCount</span>
            <ul>
                @foreach (var user in Model.Users)
                {
                    <li>@user?.FullName</li>
                }
            </ul>
        </div>
    </div>

    <!-- Product Management Section -->
    <div class="card">
        <div class="card-header">
            Product Management
        </div>
        <div class="card-body">
            <span class="title-info">Count: @Model.ProductsCount</span>
            <ul>
                @foreach (var product in Model.Products)
                {
                    <li>@product?.Name - @product?.Price</li>
                }
            </ul>
        </div>
    </div>

    <!-- Order Management Section -->
    <div class="card">
        <div class="card-header">
            Order Management
        </div>
        <div class="card-body">
            <span class="title-info">Count: @Model.OrdersCount</span>
            <ul>
                @foreach (var order in Model.Orders)
                {
                    <li>@order?.OrderId - @order?.TotalAmount</li>
                }
            </ul>
        </div>
    </div>

    <!-- Customer Feedback Section -->
    <div class="card">
        <div class="card-header">
            Customer Feedback
        </div>
        <div class="card-body">
            <span class="title-info">Count: @Model.FeedbacksCount</span>
            <ul>
                @foreach (var feedback in Model.Feedbacks)
                {
                    <li>@feedback?.UserFullName - @feedback?.Message</li>
                }
            </ul>
        </div>
    </div>
</div>
@section Scripts
{

<script src="/lib/Chart.js"></script>
<script>
    var ctx = document.getElementById('dashboardChart').getContext('2d');
    var dashboardChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: ['Users', 'Products', 'Orders', 'Feedbacks'],
            datasets: [{
                label: 'Count',
                data: [@Model.UsersCount, @Model.ProductsCount, @Model.OrdersCount, @Model.FeedbacksCount],
                backgroundColor: [
                    'rgba(75, 192, 192, 0.2)',
                    'rgba(54, 162, 235, 0.2)',
                    'rgba(255, 206, 86, 0.2)',
                    'rgba(153, 102, 255, 0.2)'
                ],
                borderColor: [
                    'rgba(75, 192, 192, 1)',
                    'rgba(54, 162, 235, 1)',
                    'rgba(255, 206, 86, 1)',
                    'rgba(153, 102, 255, 1)'
                ],
                borderWidth: 1
            }]
        },
        options: {
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    });
</script>

}
